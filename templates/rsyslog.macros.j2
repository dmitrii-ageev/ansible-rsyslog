{# rsyslog.macros.j2 #}
{% macro print_config(element) %}
{%   if element is mapping %}
{%     if element.state is undefined or element.state != 'absent' %}
{%       if element.comment|d() %}
{{         element.comment | comment }}
{%       endif %}
{%       if element.options|d() %}
{{         element.options }}

{%       endif %}
{%     endif %}
{%   elif element is string %}
{{     element }}

{%   elif element is iterable %}
{%     for item in element %}
{{       print_config(item) -}}
{%     endfor %}
{%   endif %}
{% endmacro %}
